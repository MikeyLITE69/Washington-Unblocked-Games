<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>S0LACE • Proxy</title>

    <link rel="shortcut icon" content="favicon.ico" />
    <link rel="stylesheet" href="index.css" />

    <!-- Scramjet stack (keep these paths matching your working setup) -->
    <script src="/scramjet/scramjet.all.js"></script>
    <script src="baremux/index.js" defer></script>
    <script src="epoxy/index.js" defer></script>
    <script src="register-sw.js" defer></script>
    <script src="search.js" defer></script>
    <script src="index.js" defer></script>

    <script src="global-hub.js" defer></script>
  </head>

  <body>
    <header class="site-header">
      <div class="site-title">
        S0LACE
        <span>black dungeon // proxy</span>
      </div>
      <nav class="site-nav">
        <a href="index.html" class="active">Home</a>
        <a href="games.html">Games</a>
        <a href="media.html">Media</a>
        <a href="apps.html">Apps</a>
        <a href="settings.html">Settings</a>
      </nav>
    </header>

    <main>
      <div class="page-header">
        <h1>Proxy</h1>
        <p class="sub">
          Enter the <span>dungeon gateway</span>. URLs, searches, whatever —
          the door opens either way.
        </p>
      </div>

      <div class="home-layout">
        <!-- left: MOTD + proxy search -->
        <section class="home-panel">
          <div class="motd-label">MESSAGE OF THE DUNGEON (CLICK TO CYCLE)</div>
          <div id="motd">
            loading dungeon whispers...
          </div>

          <div style="margin-top: 14px;">
            <div class="proxy-label">GATEWAY &gt;</div>
            <form id="sj-form">
              <input
                id="sj-search-engine"
                value="https://www.google.com/search?q=%s"
                type="hidden"
              />
              <input
                id="sj-address"
                type="text"
                placeholder="type a url or search..."
              />
              <button class="proxy-btn" type="submit">GO</button>
            </form>
            <div id="sj-error"></div>
            <pre id="sj-error-code"></pre>
          </div>
        </section>

        <!-- right: quick links / status -->
        <section class="home-panel">
          <div class="motd-label">DUNGEON MAP</div>
          <ul style="list-style: none; padding-left: 0; font-size: 8px;">
            <li>▌ <a href="games.html">Games</a> – arcade grid of tiles</li>
            <li>▌ <a href="media.html">Media</a> – coming soon</li>
            <li>▌ <a href="apps.html">Apps</a> – tools & toys</li>
            <li>▌ <a href="settings.html">Settings</a> – cloak & tweaks</li>
          </ul>
        </section>
      </div>
    </main>

    <script>
      // simple random message system
      const motdEl = document.getElementById("motd");
      const lines = [
        "you feel like something is watching from the tabs bar.",
        "xp +5: you discovered an unblocked doorway.",
        "rumor: a secret game lies behind a typo'd url.",
        "tip: hover tiles in the games dungeon to reveal names.",
        "note: teachers fear what they cannot see.",
        "proxy spell: type anything. the dungeon will translate."
      ];

      function setRandomMotd() {
        if (!motdEl) return;
        const i = Math.floor(Math.random() * lines.length);
        motdEl.textContent = lines[i];
      }

      motdEl?.addEventListener("click", setRandomMotd);
      setRandomMotd();
    </script>
  </body>
</html>
